var CSSParser=Editor.Parser=(function(){var b=(function(){function g(i,j){var h=i.next();if(h=="@"){i.nextWhileMatches(/\w/);return"css-at";}else{if(h=="/"&&i.equals("*")){j(e);return null;}else{if(h=="<"&&i.equals("!")){j(d);return null;}else{if(h=="="){return"css-compare";}else{if(i.equals("=")&&(h=="~"||h=="|")){i.next();return"css-compare";}else{if(h=='"'||h=="'"){j(f(h));return null;}else{if(h=="#"){i.nextWhileMatches(/\w/);return"css-hash";}else{if(h=="!"){i.nextWhileMatches(/[ \t]/);i.nextWhileMatches(/\w/);return"css-important";}else{if(/\d/.test(h)){i.nextWhileMatches(/[\w.%]/);return"css-unit";}else{if(/[,.+>*\/]/.test(h)){return"css-select-op";}else{if(/[;{}:\[\]]/.test(h)){return"css-punctuation";}else{i.nextWhileMatches(/[\w\\\-_]/);return"css-identifier";}}}}}}}}}}}}function e(j,k){var h=false;while(!j.endOfLine()){var i=j.next();if(h&&i=="/"){k(g);break;}h=(i=="*");}return"css-comment";}function d(j,k){var i=0;while(!j.endOfLine()){var h=j.next();if(i>=2&&h==">"){k(g);break;}i=(h=="-")?i+1:0;}return"css-comment";}function f(h){return function(j,l){var k=false;while(!j.endOfLine()){var i=j.next();if(i==h&&!k){break;}k=!k&&i=="\\";}if(!k){l(g);}return"css-string";};}return function(i,h){return tokenizer(i,h||g);};})();function c(e,d,f){return function(g){if(!e||/^\}/.test(g)){return f;}else{if(d){return f+indentUnit*2;}else{return f+indentUnit;}}};}function a(i,h){h=h||0;var j=b(i);var f=false,e=false,g=false;var d={next:function(){var k=j.next(),l=k.style,m=k.content;if(l=="css-hash"){l=k.style=e?"css-colorcode":"css-identifier";}if(l=="css-identifier"){if(e){k.style="css-value";}else{if(!f&&!g){k.style="css-selector";}}}if(m=="\n"){k.indentation=c(f,e,h);}if(m=="{"&&g=="@media"){g=false;}else{if(m=="{"){f=true;}else{if(m=="}"){f=e=g=false;}else{if(m==";"){e=g=false;}else{if(f&&l!="css-comment"&&l!="whitespace"){e=true;}else{if(!f&&l=="css-at"){g=m;}}}}}}return k;},copy:function(){var l=f,m=e,k=j.state;return function(n){j=b(n,k);f=l;e=m;return d;};}};return d;}return{make:a,electricChars:"}"};})();
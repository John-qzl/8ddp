var HTMLMixedParser=Editor.Parser=(function(){var b={"script":"JSParser","style":"CSSParser"};function a(){var e=["XMLParser"];for(var f in b){e.push(b[f]);}for(var d in e){if(!window[e[d]]){throw new Error(e[d]+" parser must be loaded for HTML mixed mode to work.");}}XMLParser.configure({useHTMLKludges:true});}function c(h){a();var f=XMLParser.make(h),k=null,j=false;var d={next:g,copy:i};function g(){var l=f.next();if(l.content=="<"){j=true;}else{if(l.style=="xml-tagname"&&j===true){j=l.content.toLowerCase();}else{if(l.content==">"){if(b[j]){var m=window[b[j]];d.next=e(m,"</"+j);}j=false;}}}return l;}function e(n,l){var m=f.indentation();k=n.make(h,m+indentUnit);return function(){if(h.lookAhead(l,false,false,true)){k=null;d.next=g;return g();}var p=k.next();var o=p.value.lastIndexOf("<"),q=Math.min(p.value.length-o,l.length);if(o!=-1&&p.value.slice(o,o+q).toLowerCase()==l.slice(0,q)&&h.lookAhead(l.slice(q),false,false,true)){h.push(p.value.slice(o));p.value=p.value.slice(0,o);}if(p.indentation){var r=p.indentation;p.indentation=function(s){if(s=="</"){return m;}else{return r(s);}};}return p;};}function i(){var l=f.copy(),o=k&&k.copy(),m=d.next,n=j;return function(p){h=p;f=l(p);k=o&&o(p);d.next=m;j=n;return d;};}return d;}return{make:c,electricChars:"{}/:",configure:function(d){if(d.triggers){b=d.triggers;}}};})();
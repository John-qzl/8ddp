(function(){var a={modes:{wysiwyg:1,source:1},canUndo:false,readOnly:1,exec:function(o){var i,h=o.config,l=h.baseHref?'<base href="'+h.baseHref+'"/>':"",j=CKEDITOR.env.isCustomDomain();if(h.fullPage){i=o.getData().replace(/<head>/,"$&"+l).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+o.lang.preview);}else{var m="<body ",n=o.document&&o.document.getBody();if(n){if(n.getAttribute("id")){m+='id="'+n.getAttribute("id")+'" ';}if(n.getAttribute("class")){m+='class="'+n.getAttribute("class")+'" ';}}m+=">";i=o.config.docType+'<html dir="'+o.config.contentsLangDirection+'">'+"<head>"+l+"<title>"+o.lang.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(o.config.contentsCss)+"</head>"+m+o.getData()+"</body></html>";}var f=640,c=420,k=80;try{var r=window.screen;f=Math.round(r.width*0.8);c=Math.round(r.height*0.7);k=Math.round(r.width*0.1);}catch(p){}var g="";if(j){window._cke_htmlToLoad=i;g="javascript:void( (function(){"+"document.open();"+'document.domain="'+document.domain+'";'+"document.write( window.opener._cke_htmlToLoad );"+"document.close();"+"window.opener._cke_htmlToLoad = null;"+"})() )";}var d=window.open(g,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+f+",height="+c+",left="+k);if(!j){var q=d.document;q.open();q.write(i);q.close();CKEDITOR.env.webkit&&setTimeout(function(){q.body.innerHTML+="";},0);}}};var b="preview";CKEDITOR.plugins.add(b,{init:function(c){c.addCommand(b,a);c.ui.addButton("Preview",{label:c.lang.preview,command:b});}});})();
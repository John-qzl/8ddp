CKEDITOR.dialog.add("dtextarea",function(a){return{title:a.lang.textarea.title,minWidth:350,minHeight:250,onShow:function(){delete this.textarea;var b=this.getParentEditor().getSelection().getSelectedElement();if(b&&b.getName()=="textarea"){this.textarea=b;this.setupContent(b);}},onOk:function(){var d,c=this.textarea,b=!c;if(b){d=this.getParentEditor();c=d.document.createElement("textarea");}c.setAttribute("class","x-form-textarea x-form-field x-column");this.commitContent(c);if(b){d.insertElement(c);}},contents:[{id:"info",label:a.lang.textarea.title,title:a.lang.textarea.title,elements:[{type:"hbox",widths:["50%","50%"],children:[{id:"_cke_saved_name",type:"text",label:a.lang.common.name,validate:CKEDITOR.dialog.validate.colNameValidate(a.lang.common.name+a.lang.dcommon.colNameValidate),"default":"",accessKey:"N",setup:function(b){this.setValue(b.data("cke-saved-name")||b.getAttribute("name")||"");},commit:function(b){if(this.getValue()){b.data("cke-saved-name",this.getValue());}else{b.data("cke-saved-name",false);b.removeAttribute("name");}}},{id:"txtlabel",type:"text",label:a.lang.dcommon.txtlabel,validate:CKEDITOR.dialog.validate.notEmpty(a.lang.dcommon.txtlabel+a.lang.dcommon.validateEmpty),"default":"",accessKey:"L",setup:function(b){this.setValue(b.getAttribute("txtlabel")||"");},commit:function(b){b.setAttribute("txtlabel",this.getValue());}}]},{type:"hbox",widths:["50%","50%"],children:[{id:"txtvaluetype",type:"select",label:a.lang.dtextfield.datatype,"default":"varchar",accessKey:"T",items:[[a.lang.dtextfield.typeVarchar,"varchar"],[a.lang.textfield.typeText,"text"],[a.lang.dtextfield.typeInt,"int"],[a.lang.dtextfield.typeBigInt,"bigint"],[a.lang.dtextfield.typeSmallInt,"smallint"],[a.lang.dtextfield.typeDouble,"double"],[a.lang.dtextfield.typeFloat,"float"],[a.lang.dtextfield.typeDecimal,"decimal"]],setup:function(b){this.setValue(b.getAttribute("txtvaluetype"));},commit:function(b){b.setAttribute("txtvaluetype",this.getValue());}},{id:"width",type:"text",label:a.lang.common.width,"default":"",accessKey:"C",style:"width:50px",validate:CKEDITOR.dialog.validate.integer(a.lang.common.validateNumberFailed),setup:function(b){this.setValue(b.getAttribute("width"));},commit:function(b){b.setAttribute("width",this.getValue());if(this.getValue()){b.setStyle("width",this.getValue()+"px");}}}]},{type:"hbox",widths:["50%","50%"],children:[{id:"cols",type:"text",label:a.lang.textarea.cols,"default":"",accessKey:"C",style:"width:50px",validate:CKEDITOR.dialog.validate.integer(a.lang.common.validateNumberFailed),setup:function(b){var c=b.hasAttribute("cols")&&b.getAttribute("cols");this.setValue(c||"");},commit:function(b){if(this.getValue()){b.setAttribute("cols",this.getValue());}else{b.removeAttribute("cols");}}},{id:"rows",type:"text",label:a.lang.textarea.rows,"default":"",accessKey:"R",style:"width:50px",validate:CKEDITOR.dialog.validate.integer(a.lang.common.validateNumberFailed),setup:function(b){var c=b.hasAttribute("rows")&&b.getAttribute("rows");this.setValue(c||"");},commit:function(b){if(this.getValue()){b.setAttribute("rows",this.getValue());}else{b.removeAttribute("rows");}}}]},{id:"value",type:"textarea",label:a.lang.textfield.value,"default":"",setup:function(b){this.setValue(b.$.defaultValue);},commit:function(b){b.$.value=b.$.defaultValue=this.getValue();}},{id:"txtisnotnull",type:"checkbox",label:a.lang.dtextfield.txtisnotnull,"default":"",accessKey:"P",value:"checked",setup:function(b){var c=b.getAttribute("txtisnotnull");if(c==1){this.setValue(true);}},commit:function(b){var c=this.getValue();if(c){b.setAttribute("txtisnotnull","1");}else{b.setAttribute("txtisnotnull","0");}}}]}]};});
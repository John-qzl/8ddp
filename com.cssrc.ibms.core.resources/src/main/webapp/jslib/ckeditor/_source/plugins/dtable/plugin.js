CKEDITOR.plugins.add("dtable",{init:function(a){var b=CKEDITOR.plugins.table,c=a.lang.table;a.addCommand("dtable",new CKEDITOR.dialogCommand("dtable"));a.addCommand("dtableProperties",new CKEDITOR.dialogCommand("dtableProperties"));a.ui.addButton("DTable",{label:c.toolbar,command:"dtable"});CKEDITOR.dialog.add("dtable",this.path+"dialogs/table.js");CKEDITOR.dialog.add("dtableProperties",this.path+"dialogs/table.js");if(a.addMenuItems){a.addMenuItems({dtable:{label:c.menu,command:"dtableProperties",group:"dtable",order:5},dtabledelete:{label:c.deleteTable,command:"dtableDelete",group:"dtable",order:1}});}a.on("doubleclick",function(d){var e=d.data.element;if(e.is("table")){d.data.dialog="dtableProperties";}});if(a.contextMenu){a.contextMenu.addListener(function(d,e){if(!d||d.isReadOnly()){return null;}var f=d.hasAscendant("table",1)&&!d.getAscendant("table",1).hasAttribute("isdetail");if(f){return{dtabledelete:CKEDITOR.TRISTATE_OFF,dtable:CKEDITOR.TRISTATE_OFF};}return null;});}}});
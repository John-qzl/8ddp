CKEDITOR.dialog.add("dtextfield",function(b){var a={value:1,size:1,maxLength:1};var c={textfield:1,numberfield:1};return{title:b.lang.textfield.title,minWidth:350,minHeight:200,onShow:function(){delete this.textField;var d=this.getParentEditor().getSelection().getSelectedElement();if(d&&d.getName()=="input"&&(c[d.getAttribute("xtype")]||!d.getAttribute("xtype"))){this.textField=d;this.setupContent(d);}},onOk:function(){var f,e=this.textField,d=!e;if(d){f=this.getParentEditor();e=f.document.createElement("input");e.setAttribute("type","text");}e.setAttribute("class","x-form-text x-form-field");if(d){f.insertElement(e);}this.commitContent({element:e});},onLoad:function(){var e=function(f){var g=f.hasAttribute(this.id)&&f.getAttribute(this.id);this.setValue(g||"");};var d=function(h){var f=h.element;var g=this.getValue();if(g){f.setAttribute(this.id,g);}else{f.removeAttribute(this.id);}};this.foreach(function(f){if(a[f.id]){f.setup=e;f.commit=d;}});},contents:[{id:"info",label:b.lang.textfield.title,title:b.lang.textfield.title,elements:[{type:"hbox",widths:["50%","50%"],children:[{id:"_cke_saved_name",type:"text",label:b.lang.textfield.name,"default":"",accessKey:"N",validate:CKEDITOR.dialog.validate.colNameValidate(b.lang.textfield.name+b.lang.dcommon.colNameValidate),setup:function(d){this.setValue(d.data("cke-saved-name")||d.getAttribute("name")||"");},commit:function(e){var d=e.element;if(this.getValue()){d.data("cke-saved-name",this.getValue());}else{d.data("cke-saved-name",false);d.removeAttribute("name");}}},{id:"txtlabel",type:"text",validate:CKEDITOR.dialog.validate.notEmpty(b.lang.dcommon.txtlabel+b.lang.dcommon.validateEmpty),label:b.lang.dcommon.txtlabel,"default":"",accessKey:"V",setup:function(d){this.setValue(d.getAttribute("txtlabel")||"");},commit:function(e){var d=e.element;d.setAttribute("txtlabel",this.getValue());}}]},{id:"dataformat",type:"text",label:b.lang.dtextfield.dataformat,"default":"",accessKey:"F",width:"100%",setup:function(d){this.setValue(d.getAttribute("dataformat"));},commit:function(e){var d=e.element;d.setAttribute("dataformat",this.getValue());}},{type:"hbox",widths:["50%","50%"],children:[{id:"width",type:"text",label:b.lang.common.width,"default":"",accessKey:"C",style:"width:50px",validate:CKEDITOR.dialog.validate.integer(b.lang.common.validateNumberFailed),setup:function(d){this.setValue(d.getAttribute("width"));},commit:function(e){var d=e.element;d.setAttribute("width",this.getValue());if(this.getValue()){d.setStyle("width",this.getValue()+"px");}}},{id:"txtsize",type:"text",label:b.lang.textfield.charWidth,"default":"",accessKey:"M",style:"width:50px",validate:CKEDITOR.dialog.validate.integer(b.lang.common.validateNumberFailed),setup:function(d){this.setValue(d.getAttribute("txtsize"));},commit:function(e){var d=e.element;d.setAttribute("txtsize",this.getValue());}}],onLoad:function(){if(CKEDITOR.env.ie7Compat){this.getElement().setStyle("zoom","100%");}}},{type:"hbox",widths:["50%","50%"],children:[{id:"xtype",type:"select",label:b.lang.textfield.type,"default":"textfield",accessKey:"M",items:[[b.lang.textfield.typeText,"textfield"],[b.lang.dtextfield.typeNumber,"numberfield"]],setup:function(d){this.setValue(d.getAttribute("xtype"));},commit:function(e){var d=e.element;d.setAttribute("xtype",this.getValue());}},{id:"txtvaluetype",type:"select",label:b.lang.dtextfield.datatype,"default":"varchar",accessKey:"T",items:[[b.lang.dtextfield.typeVarchar,"varchar"],[b.lang.textfield.typeText,"text"],[b.lang.dtextfield.typeInt,"int"],[b.lang.dtextfield.typeBigInt,"bigint"],[b.lang.dtextfield.typeSmallInt,"smallint"],[b.lang.dtextfield.typeDouble,"double"],[b.lang.dtextfield.typeFloat,"float"],[b.lang.dtextfield.typeDecimal,"decimal"]],setup:function(d){this.setValue(d.getAttribute("txtvaluetype"));},commit:function(e){var d=e.element;d.setAttribute("txtvaluetype",this.getValue());}}]},{type:"hbox",widths:["50%","50%"],children:[{id:"txtisprimary",type:"checkbox",label:b.lang.dtextfield.txtisprimary,"default":"",accessKey:"P",value:"checked",setup:function(d){var e=d.getAttribute("txtisprimary");if(e==1){this.setValue(true);}},commit:function(f){var d=f.element;var e=this.getValue();if(e){d.setAttribute("txtisprimary","1");}else{d.setAttribute("txtisprimary","0");}}},{id:"txtisnotnull",type:"checkbox",label:b.lang.dtextfield.txtisnotnull,"default":"",accessKey:"P",value:"checked",setup:function(d){var e=d.getAttribute("txtisnotnull");if(e==1){this.setValue(true);}},commit:function(f){var d=f.element;var e=this.getValue();if(e){d.setAttribute("txtisnotnull","1");}else{d.setAttribute("txtisnotnull","0");}}}]}]}]};});